<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>RovenSports ‚Ä¢ ƒ∞√ßerikler</title>
<style>
  :root{
    --bg:#0b0f16;
    --card:rgba(255,255,255,.06);
    --border:rgba(255,255,255,.10);
    --text:rgba(255,255,255,.92);
    --muted:rgba(255,255,255,.65);
    --accent:#00c6ff;
    --danger:#ff4d4d;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    color:var(--text);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    background:
      radial-gradient(1200px 700px at 15% 10%, rgba(0,198,255,.12), transparent 60%),
      radial-gradient(900px 600px at 80% 20%, rgba(0,255,196,.10), transparent 60%),
      linear-gradient(180deg, #070a10, #0b0f16);
  }
  .topbar{
    position:sticky; top:0;
    display:flex; align-items:center; justify-content:space-between;
    padding:16px 18px;
    background: rgba(0,0,0,.35);
    border-bottom:1px solid var(--border);
    backdrop-filter: blur(10px);
  }
  .brand{display:flex; gap:10px; align-items:center}
  .logo{
    width:40px; height:40px; border-radius:12px;
    display:grid; place-items:center;
    background: linear-gradient(135deg, rgba(0,198,255,.35), rgba(0,255,196,.22));
    border:1px solid var(--border);
    font-size:20px;
  }
  .title{font-weight:800}
  .actions{display:flex; gap:10px; align-items:center}
  .badge{
    padding:10px 12px;
    border:1px solid var(--border);
    background: rgba(255,255,255,.05);
    border-radius:999px;
    color:var(--muted);
    font-size:13px;
    white-space:nowrap;
  }
  .btn{
    padding:10px 12px;
    border-radius:12px;
    border:1px solid var(--border);
    background: rgba(255,255,255,.06);
    color: var(--text);
    cursor:pointer;
  }
  .btn.danger{border-color: rgba(255,77,77,.35); color:#ffd1d1}
  .wrap{padding:22px; max-width:1100px; margin:0 auto}
  .grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:14px}
  @media (max-width: 900px){ .grid{grid-template-columns: repeat(2, 1fr);} }
  @media (max-width: 560px){ .grid{grid-template-columns: 1fr;} }
  .card{
    background: var(--card);
    border:1px solid var(--border);
    border-radius:18px;
    padding:16px;
    box-shadow: 0 18px 50px rgba(0,0,0,.25);
  }
  .card h3{margin:0 0 8px; font-size:16px}
  .meta{color:var(--muted); font-size:13px; line-height:1.4}
  .linkrow{margin-top:12px; display:flex; gap:10px; flex-wrap:wrap}
  .link{
    text-decoration:none;
    padding:10px 12px;
    border-radius:12px;
    border:1px solid var(--border);
    background: rgba(0,0,0,.20);
    color:var(--text);
    font-size:13px;
  }
</style>
</head>
<body>
  <div class="topbar">
    <div class="brand">
      <div class="logo">üé¨</div>
      <div>
        <div class="title">RovenSports</div>
        <div style="color:var(--muted); font-size:12px;">ƒ∞√ßerikler</div>
      </div>
    </div>

    <div class="actions">
      <div class="badge" id="timeLeft">Kalan s√ºre: ‚Äî</div>
      <button class="btn danger" onclick="logout()">√áƒ±kƒ±≈ü</button>
    </div>
  </div>

  <div class="wrap">
    <div class="grid">
      <div class="card">
        <h3>Galatasaray vs Fenerbah√ße</h3>
        <div class="meta">90 dk Full Ma√ß ‚Ä¢ √ñzet ‚Ä¢ Klipler</div>
        <div class="linkrow">
          <a class="link" href="#" onclick="alert('Buraya video linki/oynatƒ±cƒ± gelecek')">‚ñ∂ Full Ma√ß</a>
          <a class="link" href="#" onclick="alert('Buraya √∂zet gelecek')">‚ö° √ñzet</a>
          <a class="link" href="#" onclick="alert('Buraya klipler gelecek')">üéû Klipler</a>
        </div>
      </div>

      <div class="card">
        <h3>Be≈üikta≈ü vs Trabzonspor</h3>
        <div class="meta">Full Ma√ß ‚Ä¢ √ñzet</div>
        <div class="linkrow">
          <a class="link" href="#" onclick="alert('Buraya i√ßerik gelecek')">‚ñ∂ ƒ∞zle</a>
          <a class="link" href="#" onclick="alert('Buraya i√ßerik gelecek')">‚ö° √ñzet</a>
        </div>
      </div>

      <div class="card">
        <h3>Ar≈üiv</h3>
        <div class="meta">Eski ma√ßlar burada listelenecek.</div>
        <div class="linkrow">
          <a class="link" href="#" onclick="alert('Listeleme sonra')">üìÅ A√ß</a>
        </div>
      </div>
    </div>
  </div>

<script>
const API_URL = "https://roven-api.rovensports.workers.dev";

function secondsToText(sec){
  if (sec == null) return "Sƒ±nƒ±rsƒ±z";
  const s = Math.max(0, sec);
  const d = Math.floor(s / 86400);
  const h = Math.floor((s % 86400) / 3600);
  const m = Math.floor((s % 3600) / 60);
  if (d > 0) return `${d}g ${h}s`;
  if (h > 0) return `${h}s ${m}dk`;
  return `${m}dk`;
}

function logout(){
  localStorage.removeItem("token");
  window.location.href = "index.html";
}

async function boot(){
  const token = localStorage.getItem("token");
  if(!token) return logout();

  // verify via backend (daha saƒülam)
  const res = await fetch(API_URL + "/api/verify", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({ token })
  });

  const data = await res.json().catch(()=>null);

  if(!data || !data.ok) return logout();

  const now = Math.floor(Date.now()/1000);
  const left = (data.exp == null) ? null : (data.exp - now);
  document.getElementById("timeLeft").textContent = "Kalan s√ºre: " + secondsToText(left);

  // canlƒ± saya√ß
  if (data.exp != null){
    setInterval(()=>{
      const left2 = data.exp - Math.floor(Date.now()/1000);
      if (left2 <= 0) logout();
      document.getElementById("timeLeft").textContent = "Kalan s√ºre: " + secondsToText(left2);
    }, 1000);
  } else {
    document.getElementById("timeLeft").textContent = "Kalan s√ºre: Sƒ±nƒ±rsƒ±z";
  }
}

boot();
</script>
</body>
</html>
